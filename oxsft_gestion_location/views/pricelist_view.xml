<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
        <record id="product_pricelist_view" model="ir.ui.view">
            <field name="name">product.pricelist.form</field>
            <field name="model">product.pricelist</field>
            <field name="inherit_id" ref="product.product_pricelist_view" />
            <field name="arch" type="xml">
            	<xpath expr="//form/sheet/div[position()=last()]" position="replace">
                        <div>
                            <separator string="Méthode de tarif"/>
                            <field name="item_ids" nolabel="1" context="{'default_base':'list_price'}">
                                <tree string="Pricelist Items">
                                    <field name="name" string="Applicable Sur"/>
                                    <field name="min_quantity" invisible="1"/>
                                    <field name="date_start"/>
                                    <field name="date_end"/>
                                    <field name="price" string="Price" invisible="1"/>
                                    <field name="base" invisible="1"/>
<!--                                    <field name="sequence" invisible="1"/> ++zart-->
                                    <field name="price_discount" invisible="1"/>
                                    <field name="applied_on" invisible="1"/>
                                    <field name="compute_price" invisible="1"/>
                                </tree>
                            </field>
                        </div>
            	</xpath>
            </field>
        </record>
        
        <record id="product_pricelist_view_tree" model="ir.ui.view">
            <field name="name">product.pricelist.tree</field>
            <field name="model">product.pricelist</field>
            <field name="inherit_id" ref="product.product_pricelist_view_tree" />
            <field name="arch" type="xml">
            	<field name="currency_id" position="after">
            		<field name="active"/>
            	</field>
            </field>
        </record>
        
        <record id="product_pricelist_item_form_view" model="ir.ui.view">
            <field name="name">product.pricelist.item.form</field>
            <field name="model">product.pricelist.item</field>
            <field name="priority" eval="1" />
            <field name="arch" type="xml">
							<form string="Products Listprices Items">
								<group col="4">
									<field name="template_id" />
									<field name="pricelist_id" required="1"/>
								</group>
								<group col="4">
									<field name="name" required="1"/>
									<field name="unlimited_mileage" />
									<field name="vehicle_categ_id" required="1"/>
<!--									<field name="sequence"/> ++zart-->
									<field name="date_start"/>
                   				    <field name="date_end"/>
								</group>
								<notebook>
                    				<page string="Prestations">
                    					<field name="line_ids">
                    						<tree editable="bottom">
                    							<field name="product_id"/>
                    							<field name="price_unit" />
                    							<field name="ttc" />
                    						</tree>
                    					</field>
                    				</page>
                    				<page string="Forfait">
                    					<group>
                    						<group>
                    							<field name="forfait_days" />
                    							<field name="forfait_kms" />
                    							<field name="forfait_days_kms" />
                    						</group>
                    						<group>
                    							<field name="days_min" />
                    							<field name="days_max" />
                    							<field name="kms_min" attrs="{'invisible':[('unlimited_mileage','!=',False)]}"/>
                    							<field name="kms_max" attrs="{'invisible':[('unlimited_mileage','!=',False)]}"/>
                    						</group>
                    					</group>
                    				</page>
                    				<page string="Autres informations">

                    				</page>
                    			</notebook>
                			</form>
            </field>
        </record>

        <record id="product_pricelist_item_tree_view" model="ir.ui.view">
            <field name="name">product.pricelist.item.tree</field>
            <field name="model">product.pricelist.item</field>
            <field name="inherit_id" ref="product.product_pricelist_item_tree_view" />
            <field name="mode">primary</field>
            <field name="arch" type="xml">
            	<tree position="replace">
                	<tree string="Products Listprices Items">
<!--                 		<field name="sequence"/> ++zart-->
                    	<field name="name"/>
                    	<field name="vehicle_categ_id" />
                    	<field name="days_min"/>
                    	<field name="days_max"/>
                    	<field name="kms_min"/>
                    	<field name="kms_max"/>
                    	<field name="forfait_days"/>
                    	<field name="forfait_kms"/>
                    	<field name="forfait_days_kms"/>
                    	<field name="unlimited_mileage" />
                    	<field name="date_start"/>
                    	<field name="date_end"/>
                	</tree>
                </tree>
            </field>
        </record>

        <record id="product_pricelist_item_template_tree_view" model="ir.ui.view">
            <field name="name">product.pricelist.item.template.tree</field>
            <field name="model">product.pricelist.item.template</field>
            <field name="arch" type="xml">
                <tree string="Modèle de tarif">
                	<field name="name"/>
                   	<field name="days_min"/>
                    <field name="days_max"/>
                    <field name="kms_min"/>
                    <field name="kms_max"/>
                    <field name="forfait_days"/>
                    <field name="forfait_kms"/>
                    <field name="forfait_days_kms"/>
                    <field name="unlimited_mileage" />
                </tree>
            </field>
        </record>

        <record id="product_pricelist_item_template_form_view" model="ir.ui.view">
            <field name="name">product.pricelist.item.template.form</field>
            <field name="model">product.pricelist.item.template</field>
            <field name="arch" type="xml">
				<form string="Modèle de tarif">
					<group col="4">
						<field name="name" />
						<field name="unlimited_mileage"/>
				    </group>
					<notebook>
                    	<page string="Prestations">
                    		<field name="line_ids">
                    			<tree editable="bottom">
                    				<field name="product_id"/>
                    			</tree>
                    		</field>
                    	</page>
                    	<page string="Forfait">
                    		<group>
                    			<group>
                    				<field name="forfait_days" />
                    				<field name="forfait_kms" />
                    				<field name="forfait_days_kms" />
                    			</group>
                    			<group>
                    				<field name="days_min" />
                    				<field name="days_max" />
                    				<field name="kms_min" attrs="{'invisible':[('unlimited_mileage','!=',False)]}"/>
                    				<field name="kms_max" attrs="{'invisible':[('unlimited_mileage','!=',False)]}"/>
                    			</group>
                    		</group>
                    	</page>
                    </notebook>
                </form>
            </field>
        </record>

        <record id="form_product_price_yield_view" model="ir.ui.view">
            <field name="name">product.price.yield.form</field>
            <field name="model">product.price.yield</field>
            <field name="arch" type="xml">
            	<form>
            		<sheet>
            			<group col="4">
            				<field name="name" />
            				<field name="company_id" />
            				<field name="agence_id" />
            				<field name="company_type" />
            				<field name="partner_id" />
            				<field name="category_id" />
            				<field name="product_id" />
            				<field name="rate" />
            				<field name="date_start" />
            				<field name="date_stop" />
            			</group>
            		</sheet>
            	</form>
            </field>
        </record>

        <record id="tree_product_price_yield_view" model="ir.ui.view">
            <field name="name">product.price.yield.form</field>
            <field name="model">product.price.yield</field>
            <field name="arch" type="xml">
            	<tree>
            		<field name="name" />
            		<field name="company_id" />
            		<field name="partner_id" />
            		<field name="rate" />
            		<field name="date_start" />
            		<field name="date_stop" />
            	</tree>
            </field>
        </record>
	</data>
</odoo>
